Table: User
  - user_id: integer
  - full_name: character varying
  - email: character varying
  - password_hash: text
  - age: integer
  - gender: character varying
  - height_cm: numeric
  - weight_kg: numeric
  - created_at: timestamp without time zone
  - last_login: timestamp with time zone
  - is_deleted: boolean
  - updated_at: timestamp without time zone
  - avatar_url: text

Table: admin
  - admin_id: integer
  - username: character varying
  - password_hash: text
  - created_at: timestamp without time zone
  - is_deleted: boolean

Table: admin_verification
  - verification_id: integer
  - username: text
  - password_hash: text
  - code: text
  - expires_at: timestamp with time zone
  - created_at: timestamp with time zone

Table: adminconversation
  - admin_conversation_id: integer
  - user_id: integer
  - status: character varying
  - subject: character varying
  - created_at: timestamp without time zone
  - updated_at: timestamp without time zone

Table: adminmessage
  - admin_message_id: integer
  - admin_conversation_id: integer
  - sender_type: character varying
  - sender_id: integer
  - message_text: text
  - image_url: text
  - is_read: boolean
  - created_at: timestamp without time zone

Table: adminrole
  - admin_id: integer
  - role_id: integer

Table: aminoacid
  - amino_acid_id: integer
  - code: character varying
  - name: character varying
  - hex_color: character varying
  - home_display: boolean
  - created_at: timestamp with time zone

Table: aminorequirement
  - amino_requirement_id: integer
  - amino_acid_id: integer
  - sex: character varying
  - age_min: integer
  - age_max: integer
  - per_kg: boolean
  - amount: numeric
  - unit: character varying
  - notes: text

Table: bodymeasurement
  - measurement_id: integer
  - user_id: integer
  - measurement_date: timestamp without time zone
  - weight_kg: numeric
  - height_cm: numeric
  - bmi: numeric
  - bmi_score: integer
  - bmi_category: character varying
  - source: character varying
  - notes: text
  - created_at: timestamp without time zone

Table: chatbotconversation
  - conversation_id: integer
  - user_id: integer
  - title: character varying
  - created_at: timestamp without time zone
  - updated_at: timestamp without time zone

Table: chatbotmessage
  - message_id: integer
  - conversation_id: integer
  - sender: character varying
  - message_text: text
  - image_url: text
  - nutrition_data: jsonb
  - is_approved: boolean
  - created_at: timestamp without time zone

Table: communitymessage
  - message_id: integer
  - user_id: integer
  - message_text: text
  - image_url: text
  - created_at: timestamp without time zone
  - updated_at: timestamp without time zone
  - is_deleted: boolean
  - deleted_at: timestamp without time zone

Table: conditioneffectlog
  - log_id: integer
  - user_id: integer
  - condition_id: integer
  - nutrient_id: integer
  - effect_type: character varying
  - adjustment_percent: numeric
  - original_rda: numeric
  - adjusted_rda: numeric
  - applied_at: timestamp without time zone

Table: conditionfoodrecommendation
  - recommendation_id: integer
  - condition_id: integer
  - food_id: integer
  - recommendation_type: character varying
  - notes: text

Table: conditionnutrienteffect
  - effect_id: integer
  - condition_id: integer
  - nutrient_id: integer
  - effect_type: character varying
  - adjustment_percent: numeric
  - notes: text

Table: dailysummary
  - summary_id: integer
  - user_id: integer
  - date: date
  - total_calories: numeric
  - total_protein: numeric
  - total_fiber: numeric
  - total_carbs: numeric
  - total_fat: numeric
  - total_water: numeric

Table: dish
  - dish_id: integer
  - name: character varying
  - vietnamese_name: character varying
  - description: text
  - category: character varying
  - serving_size_g: numeric
  - image_url: text
  - is_template: boolean
  - is_public: boolean
  - created_by_user: integer
  - created_by_admin: integer
  - created_at: timestamp without time zone
  - updated_at: timestamp without time zone
  - image_urls: jsonb

Table: dishimage
  - dish_image_id: integer
  - dish_id: integer
  - image_url: text
  - image_type: character varying
  - is_primary: boolean
  - display_order: integer
  - caption: text
  - uploaded_at: timestamp without time zone

Table: dishingredient
  - dish_ingredient_id: integer
  - dish_id: integer
  - food_id: integer
  - weight_g: numeric
  - notes: text
  - display_order: integer

Table: dishnotification
  - notification_id: integer
  - user_id: integer
  - dish_id: integer
  - notification_type: character varying
  - title: character varying
  - message: text
  - is_read: boolean
  - created_at: timestamp without time zone
  - read_at: timestamp without time zone

Table: dishnutrient
  - dish_nutrient_id: integer
  - dish_id: integer
  - nutrient_id: integer
  - amount_per_100g: numeric
  - calculated_at: timestamp without time zone

Table: dishstatistics
  - stat_id: integer
  - dish_id: integer
  - total_times_logged: integer
  - unique_users_count: integer
  - avg_rating: numeric
  - last_logged_at: timestamp without time zone
  - updated_at: timestamp without time zone

Table: drink
  - drink_id: integer
  - name: character varying
  - vietnamese_name: character varying
  - slug: character varying
  - description: text
  - category: character varying
  - base_liquid: character varying
  - default_volume_ml: numeric
  - default_temperature: character varying
  - default_sweetness: character varying
  - hydration_ratio: numeric
  - caffeine_mg: numeric
  - sugar_free: boolean
  - is_template: boolean
  - is_public: boolean
  - image_url: text
  - created_by_user: integer
  - created_by_admin: integer
  - created_at: timestamp with time zone
  - updated_at: timestamp with time zone

Table: drinkingredient
  - drink_ingredient_id: integer
  - drink_id: integer
  - food_id: integer
  - amount_g: numeric
  - unit: character varying
  - display_order: integer
  - notes: text

Table: drinknutrient
  - drink_nutrient_id: integer
  - drink_id: integer
  - nutrient_id: integer
  - amount_per_100ml: numeric

Table: drinkstatistics
  - stat_id: integer
  - drink_id: integer
  - log_count: integer
  - unique_users: integer
  - last_logged_at: timestamp with time zone
  - updated_at: timestamp with time zone

Table: drug
  - drug_id: integer
  - name_vi: character varying
  - name_en: character varying
  - generic_name: character varying
  - drug_class: character varying
  - description: text
  - image_url: text
  - source_link: text
  - dosage_form: character varying
  - is_active: boolean
  - created_by_admin: integer
  - created_at: timestamp without time zone
  - updated_at: timestamp without time zone

Table: drughealthcondition
  - drug_condition_id: integer
  - drug_id: integer
  - condition_id: integer
  - treatment_notes: text
  - is_primary: boolean
  - created_at: timestamp without time zone

Table: drugnutrientcontraindication
  - contra_id: integer
  - drug_id: integer
  - nutrient_id: integer
  - avoid_hours_before: numeric
  - avoid_hours_after: numeric
  - warning_message_vi: text
  - warning_message_en: text
  - severity: character varying
  - created_at: timestamp without time zone

Table: fattyacid
  - fatty_acid_id: integer
  - code: character varying
  - name: character varying
  - description: text
  - unit: character varying
  - hex_color: character varying
  - home_display: boolean
  - is_user_editable: boolean
  - created_at: timestamp without time zone

Table: fattyacidrequirement
  - fa_req_id: integer
  - fatty_acid_id: integer
  - sex: character varying
  - age_min: integer
  - age_max: integer
  - base_value: numeric
  - unit: character varying
  - is_per_kg: boolean
  - is_energy_pct: boolean
  - energy_pct: numeric
  - notes: text

Table: fiber
  - fiber_id: integer
  - code: character varying
  - name: character varying
  - description: text
  - unit: character varying
  - hex_color: character varying
  - home_display: boolean
  - is_user_editable: boolean
  - created_at: timestamp without time zone

Table: fiberrequirement
  - fiber_req_id: integer
  - fiber_id: integer
  - sex: character varying
  - age_min: integer
  - age_max: integer
  - base_value: numeric
  - unit: character varying
  - is_per_kg: boolean
  - is_energy_pct: boolean
  - energy_pct: numeric
  - notes: text

Table: food
  - food_id: integer
  - name: character varying
  - category: character varying
  - image_url: text
  - created_at: timestamp without time zone
  - created_by_admin: integer
  - description: text
  - serving_size_g: numeric
  - is_verified: boolean
  - is_active: boolean
  - updated_at: timestamp without time zone
  - created_by_user: integer

Table: foodcategory
  - category_id: integer
  - category_name: character varying
  - description: text
  - icon: character varying
  - created_at: timestamp without time zone

Table: foodnutrient
  - food_nutrient_id: integer
  - food_id: integer
  - nutrient_id: integer
  - amount_per_100g: numeric

Table: foodtag
  - tag_id: integer
  - tag_name: character varying

Table: foodtagmapping
  - food_id: integer
  - tag_id: integer

Table: friendrequest
  - request_id: integer
  - sender_id: integer
  - receiver_id: integer
  - status: character varying
  - created_at: timestamp without time zone
  - updated_at: timestamp without time zone

Table: friendship
  - friendship_id: integer
  - user1_id: integer
  - user2_id: integer
  - created_at: timestamp without time zone

Table: healthcondition
  - condition_id: integer
  - name_vi: character varying
  - name_en: character varying
  - category: character varying
  - description: text
  - causes: text
  - image_url: text
  - treatment_duration_reference: character varying
  - created_at: timestamp without time zone
  - updated_at: timestamp without time zone

Table: meal
  - meal_id: integer
  - user_id: integer
  - meal_type: character varying
  - meal_date: date
  - created_at: timestamp without time zone
  - is_favorite: boolean
  - notes: text
  - photo_url: text
  - photo_recognition_data: jsonb

Table: meal_entries
  - id: integer
  - user_id: integer
  - entry_date: date
  - meal_type: character varying
  - food_id: integer
  - weight_g: numeric
  - kcal: numeric
  - carbs: numeric
  - protein: numeric
  - fat: numeric
  - created_at: timestamp with time zone

Table: mealitem
  - meal_item_id: integer
  - meal_id: integer
  - food_id: integer
  - weight_g: numeric
  - calories: numeric
  - protein: numeric
  - fat: numeric
  - carbs: numeric
  - quick_add_count: integer
  - last_eaten_at: timestamp without time zone
  - dish_id: integer

Table: mealnote
  - note_id: integer
  - meal_id: integer
  - note: text
  - created_at: timestamp without time zone

Table: mealtemplate
  - template_id: integer
  - user_id: integer
  - template_name: character varying
  - description: text
  - meal_type: character varying
  - is_favorite: boolean
  - usage_count: integer
  - created_at: timestamp without time zone
  - updated_at: timestamp without time zone

Table: mealtemplateitem
  - template_item_id: integer
  - template_id: integer
  - food_id: integer
  - weight_g: numeric
  - item_order: integer

Table: medicationlog
  - log_id: integer
  - user_condition_id: integer
  - user_id: integer
  - medication_date: date
  - medication_time: time without time zone
  - taken_at: timestamp without time zone
  - status: character varying
  - created_at: timestamp without time zone
  - drug_id: integer

Table: medicationschedule
  - medication_id: integer
  - user_condition_id: integer
  - user_id: integer
  - medication_times: ARRAY
  - notes: text
  - created_at: timestamp without time zone
  - medication_details: jsonb
  - drug_id: integer

Table: messagereaction
  - reaction_id: integer
  - message_type: character varying
  - message_id: integer
  - user_id: integer
  - reaction_type: character varying
  - created_at: timestamp without time zone

Table: mineral
  - mineral_id: integer
  - code: character varying
  - name: character varying
  - description: text
  - unit: character varying
  - recommended_daily: numeric
  - created_at: timestamp without time zone
  - created_by_admin: integer

Table: mineralnutrient
  - mineral_nutrient_id: integer
  - mineral_id: integer
  - nutrient_id: integer
  - amount: numeric
  - factor: numeric
  - notes: text
  - created_at: timestamp without time zone

Table: mineralrda
  - mineral_rda_id: integer
  - mineral_id: integer
  - sex: character varying
  - age_min: integer
  - age_max: integer
  - rda_value: numeric
  - unit: character varying
  - notes: text

Table: nutrient
  - nutrient_id: integer
  - name: character varying
  - nutrient_code: character varying
  - unit: character varying
  - created_at: timestamp without time zone
  - created_by_admin: integer
  - group_name: character varying
  - image_url: text
  - benefits: text

Table: nutrientcontraindication
  - contra_id: integer
  - nutrient_id: integer
  - condition_name: character varying
  - note: text
  - created_at: timestamp without time zone

Table: nutrientmapping
  - mapping_id: integer
  - nutrient_id: integer
  - fiber_id: integer
  - fatty_acid_id: integer
  - factor: numeric
  - notes: text

Table: nutritionanalysis
  - analysis_id: integer
  - user_id: integer
  - image_url: text
  - food_name: character varying
  - confidence_score: numeric
  - nutrients: jsonb
  - is_approved: boolean
  - approved_at: timestamp without time zone
  - created_at: timestamp without time zone

Table: passwordchangecode
  - id: integer
  - user_id: integer
  - code: character varying
  - created_at: timestamp with time zone
  - used_at: timestamp with time zone
  - expires_at: timestamp with time zone

Table: permission
  - permission_id: integer
  - name: character varying
  - description: text
  - resource: character varying
  - action: character varying
  - created_at: timestamp without time zone

Table: portionsize
  - portion_id: integer
  - food_id: integer
  - portion_name: character varying
  - portion_name_vi: character varying
  - weight_g: numeric
  - is_common: boolean
  - created_at: timestamp without time zone

Table: privateconversation
  - conversation_id: integer
  - user1_id: integer
  - user2_id: integer
  - created_at: timestamp without time zone
  - updated_at: timestamp without time zone

Table: privatemessage
  - message_id: integer
  - conversation_id: integer
  - sender_id: integer
  - message_text: text
  - image_url: text
  - is_read: boolean
  - read_at: timestamp without time zone
  - created_at: timestamp without time zone

Table: recipe
  - recipe_id: integer
  - user_id: integer
  - recipe_name: character varying
  - description: text
  - servings: integer
  - prep_time_minutes: integer
  - cook_time_minutes: integer
  - instructions: text
  - image_url: text
  - is_public: boolean
  - created_at: timestamp without time zone
  - updated_at: timestamp without time zone

Table: recipeingredient
  - recipe_ingredient_id: integer
  - recipe_id: integer
  - food_id: integer
  - weight_g: numeric
  - ingredient_order: integer
  - notes: text

Table: role
  - role_id: integer
  - role_name: character varying

Table: rolepermission
  - role_permission_id: integer
  - role_name: character varying
  - permission_id: integer
  - granted_at: timestamp without time zone

Table: suggestion
  - suggestion_id: integer
  - user_id: integer
  - date: date
  - nutrient_id: integer
  - deficiency_amount: numeric
  - suggested_food_id: integer
  - note: text

Table: user_account_status
  - user_id: integer
  - is_blocked: boolean
  - blocked_reason: text
  - blocked_at: timestamp with time zone
  - blocked_by_admin: integer
  - updated_at: timestamp with time zone

Table: user_block_event
  - block_event_id: integer
  - user_id: integer
  - event_type: character varying
  - reason: text
  - admin_id: integer
  - created_at: timestamp with time zone

Table: user_meal_summaries
  - id: integer
  - user_id: integer
  - summary_date: date
  - meal_type: character varying
  - consumed_kcal: numeric
  - consumed_carbs: numeric
  - consumed_protein: numeric
  - consumed_fat: numeric
  - updated_at: timestamp with time zone

Table: user_meal_targets
  - id: integer
  - user_id: integer
  - target_date: date
  - meal_type: character varying
  - target_kcal: numeric
  - target_carbs: numeric
  - target_protein: numeric
  - target_fat: numeric
  - created_at: timestamp with time zone
  - updated_at: timestamp with time zone

Table: user_unblock_request
  - request_id: integer
  - user_id: integer
  - status: character varying
  - message: text
  - admin_response: text
  - decided_at: timestamp with time zone
  - decided_by_admin: integer
  - created_at: timestamp with time zone

Table: useractivitylog
  - log_id: integer
  - user_id: integer
  - action: text
  - log_time: timestamp without time zone

Table: useraminointake
  - intake_id: bigint
  - user_id: integer
  - amino_acid_id: integer
  - amount: numeric
  - unit: character varying
  - source: text
  - recorded_at: timestamp with time zone

Table: useraminorequirement
  - user_id: integer
  - amino_acid_id: integer
  - base: numeric
  - multiplier: numeric
  - recommended: numeric
  - unit: text
  - updated_at: timestamp without time zone

Table: userfattyacidintake
  - intake_id: integer
  - user_id: integer
  - date: date
  - fatty_acid_id: integer
  - amount: numeric

Table: userfattyacidrequirement
  - user_id: integer
  - fatty_acid_id: integer
  - base: numeric
  - multiplier: numeric
  - recommended: numeric
  - unit: text
  - updated_at: timestamp without time zone

Table: userfiberintake
  - intake_id: integer
  - user_id: integer
  - date: date
  - fiber_id: integer
  - amount: numeric

Table: userfiberrequirement
  - user_id: integer
  - fiber_id: integer
  - base: numeric
  - multiplier: numeric
  - recommended: numeric
  - unit: text
  - updated_at: timestamp without time zone

Table: usergoal
  - goal_id: integer
  - user_id: integer
  - goal_type: character varying
  - goal_weight: numeric
  - activity_factor: numeric
  - bmr: numeric
  - tdee: numeric
  - daily_calorie_target: numeric
  - daily_protein_target: numeric
  - daily_fat_target: numeric
  - daily_carb_target: numeric
  - created_at: timestamp without time zone

Table: userhealthcondition
  - user_condition_id: integer
  - user_id: integer
  - condition_id: integer
  - diagnosed_date: date
  - treatment_start_date: date
  - treatment_end_date: date
  - treatment_duration_days: integer
  - status: character varying
  - notes: text
  - created_at: timestamp without time zone

Table: usermineralrequirement
  - user_id: integer
  - mineral_id: integer
  - base: numeric
  - multiplier: numeric
  - recommended: numeric
  - unit: text
  - updated_at: timestamp without time zone

Table: usernutrientmanuallog
  - log_id: integer
  - user_id: integer
  - log_date: date
  - nutrient_id: integer
  - nutrient_type: character varying
  - nutrient_code: character varying
  - nutrient_name: character varying
  - unit: character varying
  - amount: numeric
  - source: character varying
  - source_ref: text
  - metadata: jsonb
  - created_at: timestamp with time zone
  - updated_at: timestamp with time zone

Table: usernutrientnotification
  - notification_id: integer
  - user_id: integer
  - nutrient_type: character varying
  - nutrient_id: integer
  - nutrient_name: character varying
  - notification_type: character varying
  - title: text
  - message: text
  - severity: character varying
  - is_read: boolean
  - metadata: jsonb
  - created_at: timestamp with time zone

Table: usernutrienttracking
  - tracking_id: integer
  - user_id: integer
  - date: date
  - nutrient_type: character varying
  - nutrient_id: integer
  - target_amount: numeric
  - current_amount: numeric
  - unit: character varying
  - last_updated: timestamp with time zone

Table: userprofile
  - user_id: integer
  - activity_level: character varying
  - diet_type: character varying
  - allergies: text
  - health_goals: text
  - goal_type: character varying
  - goal_weight: numeric
  - activity_factor: numeric
  - bmr: numeric
  - tdee: numeric
  - daily_calorie_target: numeric
  - daily_protein_target: numeric
  - daily_fat_target: numeric
  - daily_carb_target: numeric
  - daily_water_target: numeric

Table: usersecurity
  - user_id: integer
  - twofa_enabled: boolean
  - twofa_secret: text
  - lock_threshold: integer
  - failed_attempts: integer
  - updated_at: timestamp with time zone

Table: usersetting
  - user_id: integer
  - theme: character varying
  - language: character varying
  - font_size: character varying
  - unit_system: character varying
  - seasonal_ui_enabled: boolean
  - seasonal_mode: character varying
  - seasonal_custom_bg: text
  - falling_leaves_enabled: boolean
  - weather_enabled: boolean
  - weather_city: character varying
  - weather_last_update: timestamp without time zone
  - weather_last_data: jsonb
  - background_image_url: text
  - calorie_multiplier: numeric
  - macro_protein_pct: numeric
  - macro_fat_pct: numeric
  - macro_carb_pct: numeric
  - wind_direction: double precision
  - weather_effects_enabled: boolean
  - effect_intensity: character varying
  - meal_pct_breakfast: numeric
  - meal_pct_lunch: numeric
  - meal_pct_snack: numeric
  - meal_pct_dinner: numeric
  - background_image_enabled: boolean
  - meal_time_breakfast: time without time zone
  - meal_time_lunch: time without time zone
  - meal_time_snack: time without time zone
  - meal_time_dinner: time without time zone

Table: uservitaminrequirement
  - user_id: integer
  - vitamin_id: integer
  - base: numeric
  - multiplier: numeric
  - recommended: numeric
  - unit: text
  - updated_at: timestamp without time zone

Table: vitamin
  - vitamin_id: integer
  - code: character varying
  - name: character varying
  - description: text
  - unit: character varying
  - recommended_daily: numeric
  - created_at: timestamp without time zone
  - created_by_admin: integer

Table: vitaminnutrient
  - vitamin_nutrient_id: integer
  - vitamin_id: integer
  - nutrient_id: integer
  - amount: numeric
  - factor: numeric
  - notes: text
  - created_at: timestamp without time zone

Table: vitaminrda
  - vitamin_rda_id: integer
  - vitamin_id: integer
  - sex: character varying
  - age_min: integer
  - age_max: integer
  - rda_value: numeric
  - unit: character varying
  - notes: text

Table: waterlog
  - water_log_id: integer
  - user_id: integer
  - amount_ml: numeric
  - log_date: date
  - created_at: timestamp without time zone
  - drink_id: integer
  - drink_name: character varying
  - hydration_ratio: numeric
  - notes: text

